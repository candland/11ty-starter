<head>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>

  {%- assign page_title = title | default: site.title | escape %}
  {%- assign page_desc = description | default: excerpt | default: content | default: site.description | strip_html | truncate: 160 | escape %}
  {%- if image %}
    {%- assign page_image = image %}
  {%- else %}
    {%- assign page_image = site.image | fullUrl: site.url %}
  {%- endif %}

  <title>
    {{ page_title }} | {{ site.title | escape }}
  </title>
  <meta content="{{ page_desc }}" name="description"/>

  <meta property="og:site_name" content="{{ site.title }}" />
  <meta property="og:title" content="{{ page_title }}" />
  <meta property="og:description" content="{{ page_desc }}" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="{{ page.url | prepend: site.url }}" />
  <meta property="og:image" content="{{ page_image }}" />
  <meta property="fb:app_id" content="{{ site.social.fb_appid }}" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="{{ site.social.twitter }}" />
  <meta name="twitter:title" content="{{ page_title }}" />
  <meta name="twitter:description" content="{{ page_desc }}" />
  <meta name="twitter:image" content="{{ page_image }}" />

  {% if site.ga_token %}
  <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.ga_token }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '{{ site.ga_token }}');
  </script>
  {% endif %}

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"/>
  <link href="/assets/css/main.css" rel="stylesheet"/>
  <link rel="me" href="https://twitter.com/{{ site.social.twitter }}"/>
  <link href="{{ page.url | replace: "index.html", "" | prepend: site.url }}" rel="canonical"/>
  <link href="{{ "/feed.xml" | prepend: site.url }}" rel="alternate" title="{{ site.title | escape }}" type="application/rss+xml"/>
  <!-- Favicons
  -->
  <link href="/favicon.ico" rel="icon" type="image/x-icon"/>
  <link href="/assets/images/favicon.png" rel="icon" sizes="32x32" type="image/png"/>
  <link href="/assets/images/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
  <meta content="/assets/images/mstile-144x144.png" name="msapplication-TileImage"/>
  <meta content="#00aba9" name="msapplication-TileColor"/>
</head>
